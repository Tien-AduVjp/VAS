<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data noupdate="0">
		<!-- PoS User -->
		<record id="property_rule_personal_target_pos_user" model="ir.rule">
			<field name="name">PoS User - Personal Target Rule</field>
			<field name="model_id" ref="model_personal_sales_target" />
			<field name="domain_force">['|',('sale_person_id','=',user.id),('sale_person_id','=',False)]</field>
			<field name="groups" eval="[(4,ref('point_of_sale.group_pos_user'))]" />
			<field eval="1" name="perm_read" />
			<field eval="0" name="perm_write" />
			<field eval="0" name="perm_unlink" />
			<field eval="0" name="perm_create" />
		</record>

		<record id="property_rule_team_target_pos_user" model="ir.rule">
			<field name="name">PoS User - Team Target Rule</field>
			<field name="model_id" ref="model_team_sales_target" />
			<field name="domain_force">[('crm_team_id', '=', user.sale_team_id.id)]</field>
			<field name="groups" eval="[(4,ref('point_of_sale.group_pos_user'))]" />
			<field eval="1" name="perm_read" />
			<field eval="0" name="perm_write" />
			<field eval="0" name="perm_unlink" />
			<field eval="0" name="perm_create" />
		</record>

		<!-- PoS Manager -->
		<record id="property_rule_personal_target_pos_manager"
			model="ir.rule">
			<field name="name">PoS Manager - Personal Target Rule</field>
			<field name="model_id" ref="model_personal_sales_target" />
            <field name="domain_force">['|', '|', '|', ('sale_person_id.sale_team_id.user_id', '=', user.id),
                                                        ('sale_person_id.sale_team_id.member_ids', 'in', [user.id]),
                                                        ('team_target_id.crm_team_id.user_id', '=', user.id),
                                                        ('team_target_id.crm_team_id.member_ids', 'in', [user.id])]</field>			
            <field name="groups"
				eval="[(4,ref('point_of_sale.group_pos_manager'))]" />
			<field eval="1" name="perm_read" />
			<field eval="1" name="perm_write" />
			<field eval="1" name="perm_unlink" />
			<field eval="1" name="perm_create" />
		</record>

		<record id="property_rule_team_target_pos_manager" model="ir.rule">
			<field name="name">PoS Manager - Team Target Rule</field>
			<field name="model_id" ref="model_team_sales_target" />
            <field name="domain_force">['|', ('crm_team_id.user_id', '=', user.id),
                                            ('crm_team_id.member_ids', 'in', [user.id])]</field>
			<field name="groups"
				eval="[(4,ref('point_of_sale.group_pos_manager'))]" />
			<field eval="1" name="perm_read" />
			<field eval="1" name="perm_write" />
			<field eval="1" name="perm_unlink" />
			<field eval="1" name="perm_create" />
		</record>

	</data>
</odoo>
