<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="group_sshkey_user" model="res.groups">
			<field name="name">SSH Keys Users</field>
			<field name="category_id" ref="base.module_category_usability" />
			<field name="comment">The user in this group will have access to his own
				SSH Keys only.
			</field>
		</record>

		<record id="group_sshkey_manager" model="res.groups">
			<field name="name">SSH Key Managers</field>
			<field name="category_id" ref="base.module_category_usability" />
			<field name="implied_ids"
				eval="[(4, ref('group_sshkey_user'))]" />
			<field name="comment">The user in this group will have access to all
				available SSH Keys.
			</field>
			<field name="users"
				eval="[(4, ref('base.user_root')),(4, ref('base.user_admin'))]" />
		</record>

		<record id="personal_sshkey_pair" model="ir.rule">
			<field name="name">Personal SSH Keys</field>
			<field name="model_id" ref="to_sshkey.model_sshkey_pair" />
			<field name="domain_force">['|',('user_id','=',user.id),('user_id','=',False)]
			</field>
			<field name="groups"
				eval="[(4, ref('base.group_user')),(4, ref('group_sshkey_user'))]" />
		</record>
		<record id="manage_all_sshkey_pair" model="ir.rule">
			<field name="name">Manage SSH Keys</field>
			<field name="model_id" ref="to_sshkey.model_sshkey_pair" />
			<field name="domain_force">[(1,'=',1)]</field>
			<field name="groups" eval="[(4, ref('group_sshkey_manager'))]" />
		</record>
	</data>
</odoo>