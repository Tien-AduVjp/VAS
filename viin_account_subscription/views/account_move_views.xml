<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="view_move_form" model="ir.ui.view">
			<field name="name">account.move.form</field>
			<field name="model">account.move</field>
			<field name="inherit_id" ref="account.view_move_form" />
			<field name="arch" type="xml">
				<!-- invoice tab -->
				<xpath
					expr="//page[@id='invoice_tab']/field[@name='invoice_line_ids']/tree/field[@name='product_uom_id']"
					position="after">
					<field name="subscription_from"
						attrs="{'readonly':[('parent.state','!=','draft')]}"
						optional="hide" />
					<field name="subscription_to"
						attrs="{'readonly':[('parent.state','!=','draft')]}"
						optional="hide" />
					<field name="subscription_hours"
						attrs="{'invisible':['|',('subscription_from','=',False),('subscription_to','=',False)]}"
						optional="hide" />
				</xpath>
				<xpath
					expr="//page[@id='invoice_tab']/field[@name='invoice_line_ids']/form/sheet/group/field[@name='product_uom_id']"
					position="after">
					<field name="subscription_from"
						attrs="{
						'invisible':['|',('subscription_from','=',False),('subscription_to','=',False)],
						'readonly':[('parent.state','!=','draft')]
						}" />
					<field name="subscription_to"
						attrs="{
						'invisible':['|',('subscription_from','=',False),('subscription_to','=',False)],
						'readonly':[('parent.state','!=','draft')]
						}" />
					<field name="subscription_hours"
						attrs="{'invisible':['|',('subscription_from','=',False),('subscription_to','=',False)]}"
						optional="hide" />
				</xpath>
				<!-- move line tab -->
				<xpath
					expr="//page[@id='aml_tab']/field[@name='line_ids']/tree/field[@name='product_uom_id']"
					position="after">
					<field name="subscription_from" invisible="1" />
					<field name="subscription_to" invisible="1" />
					<field name="subscription_hours" invisible="1" />
				</xpath>
			</field>
		</record>
	</data>
</odoo>
