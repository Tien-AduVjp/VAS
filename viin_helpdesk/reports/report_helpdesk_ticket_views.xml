<odoo>
	<record id="view_helpdesk_ticket_pivot" model="ir.ui.view">
		<field name="name">report.helpdesk.ticket.pivot</field>
		<field name="model">report.helpdesk.ticket</field>
		<field name="arch" type="xml">
			<pivot string="Tickets Report" display_quantity="true" disable_linking="True">
				<field name="team_id" type="row" />
				<field name="user_id" type="col" />
				<field name="partner_id" type="col" />
				<field name="done" type="measure" />
			</pivot>
		</field>
	</record>

	<record id="view_helpdesk_ticket_user_graph" model="ir.ui.view">
		<field name="name">report.helpdesk.ticket.graph</field>
		<field name="model">report.helpdesk.ticket</field>
		<field name="arch" type="xml">
			<graph string="Tickets Report" type="bar">
				<field name="team_id" type="row" />
				<field name="user_id" type="col" />
				<field name="partner_id" type="col" />
			</graph>
		</field>
	</record>

	<record id="view_helpdesk_ticket_search" model="ir.ui.view">
		<field name="name">report.helpdesk.ticket.search</field>
		<field name="model">report.helpdesk.ticket</field>
		<field name="arch" type="xml">
			<search string="Tickets Report">
				<field name="team_id" />
				<field name="ticket_type_id" />
				<field name="stage_id" />
				<field name="priority_level" />
				<field name="partner_id" />
				<field name="company_id" />
				<filter string="Unassigned" name="ftr_unassigned" domain="[('user_id', '=', False)]"/>
                <separator/>
                <group expand="0" string="Extended Filters">
                    <field name="priority_level"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                </group>
                <group expand="1" string="Group By">
                    <filter string="Team" name="grp_team_id" context="{'group_by': 'team_id'}"/>
                    <filter string="Assigned to" name="grp_user_id" context="{'group_by': 'user_id'}"/>
                    <filter string="Partner" name="grp_partner_id" context="{'group_by': 'partner_id'}"/>
                    <filter string="Stage" name="grp_stage_id" context="{'group_by': 'stage_id'}"/>
                    <filter string="Ticket Type" name="grp_ticket_type_id" context="{'group_by': 'ticket_type_id'}"/>
                    <filter string="Company" name="grp_company_id" context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
                </group>
			</search>
		</field>
	</record>

	<record id="filter_ticket_report_by_responsible" model="ir.filters">
        <field name="name">By Responsible</field>
        <field name="model_id">report.helpdesk.ticket</field>
        <field name="user_id" eval="False"/>
        <field name="context">{'group_by': ['team_id', 'user_id']}</field>
    </record>

	<record id="action_helpdesk_ticket_report" model="ir.actions.act_window">
		<field name="name">Tickets Report</field>
		<field name="res_model">report.helpdesk.ticket</field>
		<field name="view_mode">pivot,graph</field>
		<field name="search_view_id" ref="view_helpdesk_ticket_search"/>
	</record>

	<menuitem id="menu_helpdesk_analysis" action="action_helpdesk_ticket_report" parent="reporting_menu" sequence="22" />

</odoo>
