<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="view_hr_payslip_form">
			<field name="name">payslip.form</field>
			<field name="model">hr.payslip</field>
			<field name="inherit_id"
				ref="to_hr_payroll.view_hr_payslip_form" />
			<field name="arch" type="xml">
				<xpath expr="//div[@name='button_box']" position="inside">
					<button name="action_view_attendance" class="oe_stat_button"
						icon="fa-calendar-o" type="object"
						attrs="{'invisible': [('attendance_count','=',0)]}">
						<field name="attendance_count" widget="statinfo"
							string="Attendance Entries"
							help="Attendance Entries that match the period of this payslip." />
					</button>
				</xpath>
				<xpath expr="//group[./group/label[@for='leave_hours']]"
					position="after">
					<group string="Attendance Summary">
						<group>
							<label for="late_attendance_hours" />
							<div class="o_row">
								<field name="late_attendance_hours" />
								<span>hours</span>
							</div>
							<label for="early_leave_hours" />
							<div class="o_row">
								<field name="early_leave_hours" />
								<span>hours</span>
							</div>
						</group>
						<group>
							<label for="late_attendance_count" />
							<div class="o_row">
								<field name="late_attendance_count" />
								<span>times</span>
							</div>
							<label for="early_leave_count" />
							<div class="o_row">
								<field name="early_leave_count" />
								<span>times</span>
							</div>
							<label for="missing_checkout_count" />
							<div class="o_row">
								<field name="missing_checkout_count" />
								<span>times</span>
							</div>
						</group>
						<group>
							<label for="total_attendance_hours" />
							<div class="o_row">
								<field name="total_attendance_hours" />
								<span>hours</span>
							</div>
							<label for="valid_attendance_hours" />
							<div class="o_row">
								<field name="valid_attendance_hours" />
								<span>hours</span>
							</div>
						</group>
					</group>
				</xpath>
			</field>
		</record>
	</data>
</odoo>