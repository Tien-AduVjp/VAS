<odoo>
	<record id="sale_order_line_fee_user_project_manager" model="ir.rule">
		<field name="name">Project User: Read SO line fee related to projects he manages
		</field>
		<field name="model_id" ref="to_fee_definition_sale.model_sale_order_line_fee" />
		<field name="groups"
			eval="[(4, ref('project.group_project_user'))]" />
		<field name="domain_force">[
			'|',
			'|',
			('line_id.project_id.user_id','=',user.id),
			('order_id.project_id.user_id','=',user.id),
			('line_id.product_id.project_id.user_id','=','user_id')
			]
		</field>
	</record>
	
	<record id="sale_order_line_fee_user_project_technician" model="ir.rule">
		<field name="name">Project Users (project technician): only Tech lead
			is allowed to read the Sales Order Line Fee
		</field>
		<field name="model_id" ref="to_fee_definition_sale.model_sale_order_line_fee" />
		<field name="groups"
			eval="[(4, ref('project.group_project_user'))]" />
		<field name="domain_force">[
			'|',
			'|',
			('order_id.project_id.user_technician_id','in',[user.id]),
			('line_id.project_id.user_technician_id','in',[user.id]),
			('line_id.product_id.project_id.user_technician_id','in',[user.id])
			]
		</field>
	</record>
	
	<record id="sale_order_line_fee_user_salesman" model="ir.rule">
		<field name="name">Salesman: salesman access SO lines fee</field>
		<field name="model_id" ref="to_fee_definition_sale.model_sale_order_line_fee" />
		<field name="groups"
			eval="[(4, ref('sales_team.group_sale_salesman'))]" />
		<field name="domain_force">[(1, '=', 1)]</field>
	</record>
</odoo>
