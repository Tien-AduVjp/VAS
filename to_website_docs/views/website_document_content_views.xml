<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<!-- Document Content -->
		<record id="document_content_form" model="ir.ui.view">
			<field name="name">website.document.content.form</field>
			<field name="model">website.document.content</field>
			<field name="arch" type="xml">
				<form string="Document Content">
					<header>
						<button name="action_confirm" string="Confirm" type="object"
							confirm="Confirm and wait for approval" class="oe_highlight"
							states="draft" />
						<button name="action_reconfirm" string="Confirm" type="object"
							confirm="Reconfirm and wait for approval" class="oe_highlight"
							states="rejected" />
						<button name="action_approve" string="Approve" type="object" class="oe_highlight"
							states="confirmed" groups="to_website_docs.group_website_doc_reviewer" />
						<button name="action_reject" string="Reject" type="object"
							states="confirmed" groups="to_website_docs.group_website_doc_reviewer"/>
						<button name="action_cancel" string="Cancel" type="object"
							confirm="Cancellation will also unpublish the document. Are you sure to cancel it?"
							states="confirmed,approved,rejected" groups="to_website_docs.group_website_doc_reviewer"/>
						<button name="action_draft" string="Set to Draft" type="object" class="oe_highlight"
							states="cancelled" groups="to_website_docs.group_website_doc_reviewer"/>
						<field name="state" widget="statusbar"
							statusbar_visible="draft,confirmed,approved,rejected,cancelled" />
					</header>
					<sheet>
						<div class="oe_button_box" name="button_box">
							<button name="website_view_button" type="object" string="View On Website"
								class="oe_stat_button" icon="fa-eye"
								groups="to_website_docs.group_website_doc_editor">
							</button>
						</div>
						<group>
							<group>
								<field name="document_id" />
								<field name="introtext_length" />
							</group>
							<group>
								<field name="date_published" readonly="1" />
								<field name="author_id" readonly="1"
									groups="to_website_docs.group_website_doc_editor" />
								<field name="validator_id"
									groups="to_website_docs.group_website_doc_reviewer"
									readonly="1" />
							</group>
						</group>
						<div class="html_contents" id="html_contents">
							<label for="fulltext" />
							<field name="fulltext" />
						</div>
					</sheet>
					<div class="oe_chatter">
	                    <field name="message_follower_ids"  />
	                    <field name="activity_ids"  />
	                    <field name="message_ids" />
	                </div>
				</form>
			</field>
		</record>

		<record id="document_content_tree" model="ir.ui.view">
			<field name="name">website.document.content.tree</field>
			<field name="model">website.document.content</field>
			<field name="arch" type="xml">
				<tree string="Document Content">
					<field name="document_id" />
				</tree>
			</field>
		</record>

		<record id="document_content_filter" model="ir.ui.view">
			<field name="name">website.document.content.filter</field>
			<field name="model">website.document.content</field>
			<field name="arch" type="xml">
				<search string="Search Document Contents">
					<field name="document_id" />
					<separator />
					<field name="fulltext" />
					<group expand="0" string="Group By">
						<filter string="Document" name="grp_document" domain="[]"
							context="{'group_by':'document_id'}" />
					</group>
				</search>
			</field>
		</record>

		<record id="document_content_action"
			model="ir.actions.act_window">
			<field name="name">Document Contents</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">website.document.content</field>
			<field name="view_mode">tree,form</field>
			<field name="context">{}</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">
					Click to create a new document content.
				</p>
			</field>
		</record>

		<menuitem id="document_content_menu" sequence="99"
			groups="to_website_docs.group_website_doc_editor"
			name="Document Contents" parent="menu_base_docs"
			action="document_content_action" />
	</data>
</odoo>
