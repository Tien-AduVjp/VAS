<?xml version="1.0" encoding="UTF-8"?>
<odoo>

	<record id="view_move_form" model="ir.ui.view">
		<field name="name">account.move.inherit.form</field>
		<field name="model">account.move</field>
		<field name="type">form</field>
		<field name="inherit_id" ref="account.view_move_form" />
		<field name="arch" type="xml">
			<button name="action_register_payment" position="after">
				<button name="action_register_advance_payment" id="account_invoice_advance_payment_btn" type="object"
	                attrs="{'invisible': ['|', '|',
	                	('state', '!=', 'posted'),
	                	('payment_state', 'not in', ('not_paid', 'partial')),
	                	('move_type', 'not in', ('out_invoice', 'out_refund', 'in_invoice', 'in_refund', 'out_receipt', 'in_receipt'))]}"
	                string="Register Advance Payment"
	                groups="account.group_account_invoice"/>
			</button>
		</field>
	</record>

</odoo>
