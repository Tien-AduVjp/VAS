<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="approval_request_view_form" model="ir.ui.view">
			<field name="name">approval.request.form</field>
			<field name="model">approval.request</field>
			<field name="inherit_id"
				ref="viin_hr_overtime_approval.approval_request_view_form" />
			<field name="arch" type="xml">
				<xpath expr="//notebook" position="before">
					<field name="need_timesheets_approval" invisible="1" />
					<div class="alert alert-warning" role="alert"
						attrs="{'invisible':['|',('need_timesheets_approval','=',False),('type','!=','overtime')]}">
						There could be timesheet entries that match this overtime plan
						request
						but have not been approved yet. Hence, they will not be taken into
						account during calculation of actual overtime. Please get them
						approved first.
						<button name="action_view_approval_await_timesheets"
							type="object" string="View approval await entries">
						</button>
					</div>
				</xpath>
				<xpath
					expr="//page[@name='overtime']/field[@name='overtime_plan_ids']/tree/field[@name='reason_id']"
					position="after">
					<field name="for_project_id"
						attrs="{'required':[('project_required','=',True)]}" />
					<field name="project_required" invisible="1" />
				</xpath>
			</field>
		</record>
	</data>
</odoo>
