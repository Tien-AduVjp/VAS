<odoo>
	<data>

		<record model="ir.ui.view" id="view_hr_rank_form">
			<field name="name">hr.rank.form</field>
			<field name="model">hr.rank</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<field name="active" invisible="1"/>
						<widget name="web_ribbon" title="Archived"
                               bg_color="bg-danger"
                               attrs="{'invisible': [('active', '=', True)]}"/>
						<div name="button_box" class="oe_button_box">
							<button name="action_view_hr_jobs" class="oe_stat_button"
								icon="fa-book" type="object">
								<field name="matched_jobs_count" widget="statinfo"
									string="Job Positions" />
							</button>
							<button name="action_view_employees" type="object"
								class="oe_stat_button" icon="fa-users">
								<field name="employees_count" widget="statinfo"
									string="Employees" />
							</button>
						</div>
						<div class="oe_title"
							attrs="{'invisible':[('name','=',False)]}">
							<label for="name" class="oe_edit_only" />
							<h1>
								<field name="name" />
							</h1>
						</div>
						<group>
							<group>
								<field name="role_id" />
								<field name="grade_id" />
								<field name="parent_id" />
							</group>
							<group>
								<field name="department_id" />
								<field name="company_id" groups="base.group_multi_company" />
							</group>
						</group>
						<notebook>
							<page name="applied_job" string="Applicable Job Positions">
								<field name="job_line_ids"
								context="{'default_grade_id': grade_id,
								        'default_role_id':role_id}">
									<tree editable="bottom">
										<field name="job_id" />
										<field name="role_id" invisible="1"/>
										<field name="grade_id" invisible="1"/>
									</tree>
								</field>
							</page>
						</notebook>
					</sheet>
					<div class="oe_chatter">
						<field name="message_follower_ids" groups="base.group_user" />
						<field name="activity_ids" />
						<field name="message_ids" />
					</div>
				</form>
			</field>
		</record>

		<record model="ir.ui.view" id="view_hr_rank_list">
			<field name="name">hr.rank.list</field>
			<field name="model">hr.rank</field>
			<field name="arch" type="xml">
				<tree>
					<field name="name" />
					<field name="role_id" />
					<field name="grade_id" />
					<field name="parent_id" />
					<field name="department_id" />
					<field name="employees_count" string="Employees" />
					<field name="company_id" groups="base.group_multi_company" />
				</tree>
			</field>
		</record>

		<record model="ir.ui.view" id="view_hr_rank_search">
			<field name="name">hr.rank.search</field>
			<field name="model">hr.rank</field>
			<field name="arch" type="xml">
				<search>
                    <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
					<field name="role_id" />
					<separator />
					<field name="grade_id" />
					<separator />
					<field name="department_id" />
					<separator />
					<field name="company_id" groups="base.group_multi_company" />
					<group expand="0" string="Group By">
						<filter string="Role" name="grp_role" domain="[]"
							context="{'group_by':'role_id'}" />
						<filter string="Grade" name="grp_grade" domain="[]"
							context="{'group_by':'grade_id'}" />
						<filter string="Department" name="grp_department"
							domain="[]" context="{'group_by':'department_id'}" />
						<filter string="Company" name="grp_company" domain="[]"
							context="{'group_by':'company_id'}"
							groups="base.group_multi_company" />
					</group>
					<searchpanel>
						<field name="company_id" groups="base.group_multi_company"
							icon="fa-building" />
						<field name="department_id" icon="fa-users" />
					</searchpanel>
				</search>
			</field>
		</record>

		<!-- actions opening views on models -->
		<record model="ir.actions.act_window" id="action_hr_rank">
			<field name="name">Ranks</field>
			<field name="res_model">hr.rank</field>
			<field name="view_mode">tree,form</field>
		</record>

		<menuitem name="Ranks" id="menu_rank"
			parent="hr.menu_human_resources_configuration_employee"
			action="action_hr_rank" sequence="40" />
	</data>
</odoo>
