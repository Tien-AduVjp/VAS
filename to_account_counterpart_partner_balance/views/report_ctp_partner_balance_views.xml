<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	<record id="ctp_partner_balance_form_view" model="ir.ui.view">
		<field name="name">Partners Balance (Counterparts)</field>
		<field name="model">report.ctp.partner.balance</field>
		<field name="arch" type="xml">
			<form string="Partners Balance" create="false" edit="false">
				<sheet>
					<group>
						<group>
							<field name="partner_id" />
							<field name="aml_id" />
							<field name="account_move_id" />
							<field name="account_id" />
							<field name="product_id" />
							<field name="type" />
						</group>
						<group>
							<field name="date" />
							<field name="date_maturity" />
							<field name="amount_due" />
							<field name="taxes" />
							<field name="tax_amount_due" />
							<field name="total_due" />
							<field name="currency_id"
								groups="base.group_multi_currency" />
							<field name="company_id" groups="base.group_multi_company" />
						</group>
					</group>
				</sheet>
			</form>
		</field>
	</record>

	<record id="ctp_partner_balance_tree_view" model="ir.ui.view">
		<field name="name">Partners Balance (Counterparts)</field>
		<field name="model">report.ctp.partner.balance</field>
		<field name="arch" type="xml">
			<tree string="Partners Balance" create="false" edit="false">
				<field name="aml_id" />
				<field name="type" />
				<field name="partner_id" />
				<field name="product_id" />
				<field name="amount_due" />
				<field name="taxes" />
				<field name="tax_amount_due" />
				<field name="total_due" />
				<field name="date" />
				<field name="date_maturity" />
				<field name="currency_id" groups="base.group_multi_currency" />
				<field name="company_id" groups="base.group_multi_company" />
			</tree>
		</field>
	</record>

	<record model="ir.ui.view" id="partner_balance_analysis_pivot">
		<field name="name">Partners Balance (Counterparts) Pivot</field>
		<field name="model">report.ctp.partner.balance</field>
		<field name="arch" type="xml">
			<pivot string="Partners Balance Analysis" disable_linking="True">
				<field name="date_maturity" type="col" />
				<field name="amount_due" type="measure" />
				<field name="tax_amount_due" type="measure" />
				<field name="total_due" type="measure" />
			</pivot>
		</field>
	</record>

	<record model="ir.ui.view" id="partner_balance_analysis_search">
		<field name="name">Partners Balance (Counterparts) Search</field>
		<field name="model">report.ctp.partner.balance</field>
		<field name="arch" type="xml">
			<search string="Partners Balance Analysis">
				<field name="partner_id" />
				<field name="product_id" />
				<field name="account_id" />
				<filter name="ftr_payable" string="Payable"
					domain="[('type','=','payable')]" />
				<filter name="ftr_receivable" string="Receivable"
					domain="[('type','=','receivable')]" />
				<separator />
				<filter name="ftr_unposted" string="Unposted"
					domain="[('state','=','draft')]" />
				<filter name="ftr_posted" string="Posted"
					domain="[('state','=','posted')]" />
				<separator />
				<filter name="ftr_overdue" string="Overdue"
					domain="[('date_maturity', '&lt;', time.strftime('%Y-%m-%d'))]"
					help="Overdue items, maturity date passed" />
				<separator />
				<group expand="0" string="Extended Filters...">
					<field name="product_id" />
					<field name="partner_id" />
					<field name="currency_id" groups="base.group_multi_currency" />
					<field name="company_id" groups="base.group_multi_company" />
				</group>
				<group expand="1" string="Group By">
					<filter string="Partner" name="grp_partner"
						context="{'group_by':'partner_id'}" />
					<filter string="Type" name="grp_type"
						context="{'group_by':'type'}" />
					<separator />
					<filter string="Product" context="{'group_by':'product_id'}"
						name="grp_product_id" />
					<separator />
					<filter string="Currency"
						context="{'group_by':'currency_id'}" name="grp_currency_id"
						groups="base.group_multi_currency" />
					<separator />
					<filter string="Company" context="{'group_by':'company_id'}"
						name="grp_company_id" groups="base.group_multi_company" />
					<separator />
					<filter string="Entries Month" name="grp_date_month"
						context="{'group_by':'date:month'}" help="Entries Date by Month" />
					<filter string="Entries Week" name="grp_date_week"
						context="{'group_by':'date:week'}" help="Entries Date by Week" />
					<filter string="Entries Day" name="grp_date_day"
						context="{'group_by':'date:day'}" help="Entries Date by Day" />
					<separator />
					<filter string="Maturity Month" name="grp_mat_month"
						context="{'group_by':'date_maturity:month'}"
						help="Maturity Date by Month" />
					<filter string="Maturity Week" name="grp_mat_week"
						context="{'group_by':'date_maturity:week'}"
						help="Maturity Date by Week" />
					<filter string="Maturity Day" name="grp_mat_day"
						context="{'group_by':'date_maturity:day'}"
						help="Maturity Date by Day" />
				</group>
			</search>
		</field>
	</record>

	<record id="action_menu_ctp_partner_balance"
		model="ir.actions.act_window">
		<field name="name">Partners Balance (by Payable/Receivable
			Counterparts)
		</field>
		<field name="res_model">report.ctp.partner.balance</field>
		<field name="view_mode">pivot,tree,form</field>
		<field name="context">{'search_default_ftr_posted':1,'search_default_grp_partner':1,'search_default_grp_currency_id':1,'search_default_grp_partner':1,}
		</field>
	</record>

	<menuitem action="action_menu_ctp_partner_balance"
		sequence="10" id="menu_ctp_partner_balance"
		name="Partners Balance (by Payable/Receivable Counterparts)"
		parent="account.account_reports_management_menu" />

</odoo>