<odoo>
	<record id="view_move_form" model="ir.ui.view">
		<field name="name">account.move.form</field>
		<field name="model">account.move</field>
		<field name="inherit_id" ref="account.view_move_form"></field>
		<field name="arch" type="xml">
			<xpath expr="//page[last()]" position="after">
				<page id="expense" string="HR Expenses">
					<group>
						<field name="hr_expense_sheet_id" />
					</group>
				</page>
			</xpath>
		</field>
	</record>

	<record id="view_account_move_filter" model="ir.ui.view">
		<field name="name">account.move.search</field>
		<field name="model">account.move</field>
		<field name="inherit_id" ref="account.view_account_move_filter"></field>
		<field name="arch" type="xml">
			<xpath expr="//filter[@name='to_check']" position="after">
				<separator />
				<filter name="ftr_hr_expense_sheet_id" string="HR Expense" domain="[('hr_expense_sheet_id','!=',False)]" />
				<separator />
			</xpath>
			<xpath expr="//filter[@name='journal']" position="after">
				<filter name="grp_hr_expense_sheet_id" string="Expense" domain="[]" context="{'group_by': 'hr_expense_sheet_id'}" />
			</xpath>
		</field>
	</record>

	<record id="view_account_invoice_filter" model="ir.ui.view">
		<field name="name">account.move.search</field>
		<field name="model">account.move</field>
		<field name="inherit_id" ref="account.view_account_invoice_filter"></field>
		<field name="arch" type="xml">
			<xpath expr="//filter[@name='to_check']" position="after">
				<separator />
				<filter name="ftr_hr_expense_sheet_id" string="HR Expense" domain="[('hr_expense_sheet_id','!=',False)]" />
				<separator />
			</xpath>
			<xpath expr="//filter[@name='duedate']" position="after">
				<filter name="grp_hr_expense_sheet_id" string="Expense" domain="[]" context="{'group_by': 'hr_expense_sheet_id'}" />
			</xpath>
		</field>
	</record>

	<record id="expense_entry_action" model="ir.actions.act_window">
	    <field name="name">Journal Entries</field>
	    <field name="res_model">account.move</field>
	    <field name="view_mode">tree,kanban,form</field>
	    <field name="view_id" ref="account.view_move_tree"/>
	    <field name="search_view_id" ref="account.view_account_move_filter"/>
	    <field name="context">{'default_move_type': 'entry', 'view_no_maturity': True}</field>
	</record>

</odoo>
