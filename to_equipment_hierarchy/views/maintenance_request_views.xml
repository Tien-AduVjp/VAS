<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="hr_equipment_request_view_form" model="ir.ui.view">
			<field name="name">maintenance.request.form</field>
			<field name="model">maintenance.request</field>
			<field name="inherit_id"
				ref="maintenance.hr_equipment_request_view_form" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='equipment_id']" position="after">
					<field name="parent_equipment_ids" widget="many2many_tags"
						attrs="{'invisible':[('parent_equipment_ids','=',[])]}" />
				</xpath>
				<xpath expr="//sheet/group[last()]" position="after">
					<div name="related_child_maintenances"
						attrs="{'invisible':[('child_maintenance_ids','=',[])]}">
						<h4 class="text-muted">You may want to carry out the following sub
							maintenance(s) at the same time...							
						</h4>
						<p class="text-muted">You could ignore if you may not want to.</p>
						<field name="child_maintenance_ids">
							<tree string="Sub-maintenances">
								<field name="name" />
								<field name="equipment_id" />
								<field name="category_id" />
								<field name="request_date" />
								<field name="close_date" />
								<field name="maintenance_type" />
								<field name="maintenance_team_id" />
								<field name="user_id" />
								<field name="schedule_date" />
								<field name="priority" />
								<field name="stage_id" />
							</tree>
						</field>
					</div>
				</xpath>
			</field>
		</record>

	</data>
</odoo>

