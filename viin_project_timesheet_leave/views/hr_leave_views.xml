<odoo>
	<data>

		<record model="ir.ui.view" id="hr_leave_view_form">
			<field name="name">hr.leave.view.form</field>
			<field name="model">hr.leave</field>
			<field name="inherit_id" ref="hr_holidays.hr_leave_view_form" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='user_id']" position="after">
					<field name="timesheet_generate" invisible="1" />
					<field name="project_required" invisible="1" />
				</xpath>
				<xpath expr="//div[./field[@name='name']]" position="before">
					<div class="row" name="project" attrs="{'invisible': [('timesheet_generate','=',False)]}">
						<label class="col-2 mr-0" for="timesheet_project_id" />
						<field name="timesheet_project_id"
							attrs="{'readonly': [('state', 'not in', ('draft', 'confirm'))], 'required': [('project_required','=',True)]}"
							class="col-9 pl-0" nolabel="1" />
					</div>
					<div class="row" name="project_task" attrs="{'invisible': [('timesheet_generate','=',False)]}">
						<label class="col-2 mr-0" for="timesheet_task_id" />
						<field name="timesheet_task_id"
							attrs="{'readonly': [('state', 'not in', ('draft', 'confirm'))]}"
							class="col-9 pl-0" nolabel="1" />
					</div>
				</xpath>
			</field>
		</record>

	</data>
</odoo>