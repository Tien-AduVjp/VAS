<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<template id="header_template_print_s200">
			<div class="row small">
				<t t-call="to_l10n_vn_qweb_layout.accounting_external_header_left_layout" />
				<div class="col-4 text-center">
					<t t-if="template_ref">
						<strong>
							<span t-esc="template_ref" />
						</strong>
						<br />
						(Released Under the Circular #200/2014/TT-BTC
						<br />
						Dated 22/12/2014 by the Ministry of Finance)
					</t>
				</div>
			</div>
		</template>

		<template id="line_template_print_s200">
			<t t-foreach="lines['lines']" t-as="line">
				<t t-if="not context.get('print_mode', False) or line.get('show_on_pdf', True) or line.get('is_coa_report', False)">
			        <t t-set="trclass" t-value="''"/>
			        <t t-set="domainClass" t-value="'o_af_reports_domain_line_2'"/>
			        <t t-if="not line.get('caret_options')">
			            <t t-set="trclass" t-value="'o_af_reports_default_style'"/>
			            <t t-if="line.get('level') != None">
			                <t t-set="trclass" t-value="'o_af_reports_level'+str(line['level'])"/>
			            </t>
			        </t>
			        <t t-if="line.get('caret_options')">
			            <t t-if="line.get('level')">
			                <t t-set="domainClass" t-value="'o_af_reports_domain_line_'+str(line['level'])"/>
			            </t>
			        </t>
			
			        <tr t-att-class="trclass+' '+(line.get('class', ''))" t-att-data-parent-id="line.get('parent_id', False)" t-att-style="line.get('style', '')">
			        	<t t-if="line.get('is_coa_report', False)">
				            <td class="o_report_code number">
								<t t-esc="line.get('code')"/>
							</td>
						</t>
			            <td t-att-data-id="line['id']" t-att-class="'o_af_report_line ' + (line.get('unfoldable') and 'js_af_report_foldable' or '')" t-att-data-unfolded="line.get('unfolded', False)" t-att-colspan="line.get('colspan', '1')">
			                    <t t-if="line.get('unfoldable')">
			                        <span t-att-data-id="line['id']" class="o_af_reports_caret_icon"><i t-att-class="'fa fa-fw ' + (line.get('unfolded') and 'fa-caret-down' or 'fa-caret-right')"></i></span>
			                    </t>
			                    <t t-if="not line.get('caret_options')">
			                            <span class="af_report_line_name">
			                                <a t-if="line.get('action_id')" t-att-data-id="line['id']" t-att-data-action-id="line['action_id']" t-att-action="line.get('action', 'execute_action')">
			                                    <t t-esc="line.get('name')"/>
			                                </a>
			                                <t t-if="not line.get('action_id')" t-esc="line.get('name')"/>
			                                <span class="js_af_report_line_footnote" t-att-data-id="line['id']">
			                                    <sup t-if="line.get('footnote')"><b class="o_af_reports_footnote_sup"><a t-att-href="'#footnote'+line['footnote']"></a><t t-esc="line['footnote']"/></b></sup>
			                                </span>
			                            </span>
			                    </t>
			                    <t t-if="line.get('caret_options')">
			                        <div class="dropdown">
			                            <a data-toggle="dropdown" href='#'>
			                                <span t-att-data-id="line['id']" t-att-class="domainClass">
			                                    <t t-esc="line.get('name')"/>
			                                </span>
			                                <span class="caret"></span>
			                            </a>
			                            <span class="js_af_report_line_footnote" t-att-data-id="line['id']"><sup t-if="line.get('footnote')"><b class="o_af_reports_footnote_sup"><a t-att-href="'#footnote'+line['footnote']"></a><t t-esc="line['footnote']"/></b></sup></span>
			                            <div class="dropdown-menu o_af_reports_domain_dropdown" role="menu">
			                                <t t-call="to_account_reports.line_caret_options"/>
			                                <a role="menuitem" tabindex="-1" t-att-data-id="line['id']" class="dropdown-item js_af_report_add_footnote">Annotate</a>
			                            </div>
			                        </div>
			                    </t>
			            </td>
			            <t t-if="line.get('show_report_code')">
				            <td class="o_report_code text-center">
								<t t-esc="line.get('report_code')"/>
							</td>
						</t>
						<t t-if="line.get('show_report_note')">
				            <td class="o_report_note">
								<t t-esc="line.get('report_note')"/>
							</td>
						</t>
			            <t t-foreach="line.get('columns')" t-as="column">
			                <td t-att-class="'o_af_report_line ' + (column.get('class', lines.get('columns_header')[column_index+line.get('colspan', 1)].get('class', '')))" t-att-style="column.get('style', lines.get('columns_header')[column_index+line.get('colspan', 1)].get('style', ''))">
			                    <span class="o_af_report_column_value text-nowrap">
			                        <t t-esc="column.get('name')"/>
			                    </span>
			                </td>
			            </t>
			        </tr>
		        </t>
		    </t>
		</template>
		<template id="main_template_generic_print_s200">
			<div class="o_af_reports_body">
				<div class="text-center">
					<h2><t t-esc="report.get('name')"></t></h2>
					<strong>
						<t t-if="options['date']" t-esc="options['date'].get('string')"/>
					</strong>
				</div>
				<div class="text-right currency">
					Currency:
					<span t-esc="report.get('company_currency')" />
				</div>
				<div class="table-responsive">
	                <table width="100%" class="table table-bordered">
	                    <thead>
	                        <tr>
	                            <t t-foreach="lines.get('columns_header')" t-as="column_header">
	                                <th t-att-class="'o_af_report_column_header ' + (column_header.get('class', ''))" t-att-style="column_header.get('style', '')">
	                                    <t t-esc="column_header.get('name')"/>
	                                </th>
	                            </t>
	                        </tr>
	                    </thead>
	                    <tbody>
	                        <t t-if="lines.get('lines')">
                                <t t-call="to_account_reports_l10n_vn.line_template_print_s200" />
	                        </t>
	                    </tbody>
	                </table>
	            </div>
	            <div class="js_af_report_footnotes"/>
	        </div>
	        <div class="footer">
				<t t-call="to_l10n_vn_qweb_layout.signature_block" />
			</div>
		</template>
		<!-- trial balance templates -->
		<template id="template_coa_report_print_s200" inherit_id="to_account_reports_l10n_vn.main_template_generic_print_s200" primary="True">
		    <xpath expr="//thead/tr" position="before">
		        <tr>
		            <th t-att-class="'o_af_report_column_header text-center'" colspan="1">Code</th>
            		<th t-att-class="'o_af_report_column_header text-center'" colspan="1">Name</th>
		            <th t-att-class="'o_af_report_column_header text-center'" colspan="2">Initial Balance</th>
		            <t t-foreach="model.reverse(options['comparison'].get('periods'))" t-as="column_header">
		                <th t-att-class="'o_af_report_column_header text-center'" colspan="2">
		                    <t t-esc="column_header.get('string')"/>
		                </th>
		            </t>
		            <th t-att-class="'o_af_report_column_header text-center'" colspan="2">
		                <t t-if="options['date']" t-esc="options['date'].get('string')"/>
		            </th>
		            <th t-att-class="'o_af_report_column_header text-center'" colspan="2">Total</th>
		        </tr>
		    </xpath>
		    <xpath expr="//div[hasclass('currency')]" position="replace">
		    </xpath>
		</template>
		<template id="main_template_print_s200">
			<t t-call="to_account_reports_l10n_vn.main_template_generic_print_s200" />
		</template>
	</data>
</odoo>
