<?xml version="1.0" encoding="utf-8" ?>
<odoo>
	<!-- Income Statement -->
	<record id="account_financial_report_line_pnl_60_c133" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận sau thuế thu nhập doanh nghiệp (60 = 50 - 51 - 52) -->
		<field name="name">15. Profits after enterprise income tax (60=50 - 51)</field>
		<field name="code">PNL60_C133</field>
		<field name="report_code">60</field>
		<field name="formulas">balance = PNL50_C133.balance - PNL51_C133.balance</field>
		<field name="sequence" eval="2" />
		<field name="financial_report_id" ref="af_dynamic_report_profitandloss_vn_c133" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_50_c133" model="account.financial.dynamic.report.line">
		<!-- Tổng lợi nhuận kế toán trước thuế (50 = 30 + 40) -->
		<field name="name">13. Total net profits before tax (50 = 30 + 40)</field>
		<field name="code">PNL50_C133</field>
		<field name="report_code">50</field>
		<field name="formulas">balance = PNL30_C133.balance + PNL40_C133.balance</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_60_c133" />
		<field name="level" eval="1" />
		<field name="special_date_changer">normal</field>
	</record>
	<record id="account_financial_report_line_pnl_51_c133" model="account.financial.dynamic.report.line">
		<!-- Chi phí thuế thu nhập doanh nghiệp -->
		<field name="name">14. Corporate income tax expenses</field>
		<field name="code">PNL51_C133</field>
		<field name="report_code">51</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain"
			eval="[('account_id.code', '=like', '821%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_60_c133" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_40_c133" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận khác (40 = 31 - 32) -->
		<field name="name">12. Other profits (40 = 31 - 32)</field>
		<field name="code">PNL40_C133</field>
		<field name="report_code">40</field>
		<field name="formulas">balance = PNL31_C133.balance - PNL32_C133.balance</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_50_c133" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_31_c133" model="account.financial.dynamic.report.line">
		<!-- Thu nhập khác -->
		<field name="name">10. Other Income</field>
		<field name="code">PNL31_C133</field>
		<field name="report_code">31</field>
		<field name="formulas">balance = -sum.balance</field>
		<field name="domain"
			eval="[('account_id.user_type_id', '=', ref('account.data_account_type_other_income')), ('ctp_account_ids.user_type_id', 'not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_40_c133" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_32_c133" model="account.financial.dynamic.report.line">
		<!-- Chi phí khác -->
		<field name="name">11. Other Expenses</field>
		<field name="code">PNL32_C133</field>
		<field name="report_code">32</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain"
			eval="[('account_id.code', '=like', '811%'), ('ctp_account_ids.user_type_id', 'not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_40_c133" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_30_c133" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận thuần từ hoạt động kinh doanh 30 = 20 + 21 - 22 - 24) -->
		<field name="name">9. Net profits from operating activities 30 = 20 + 21 - 22 - 24</field>
		<field name="code">PNL30_C133</field>
		<field name="report_code">30</field>
		<field name="formulas">balance = PNL20_C133.balance + PNL21_C133.balance - PNL22_C133.balance - PNL24_C133.balance</field>
		<field name="sequence" eval="0" />
		<field name="parent_id" ref="account_financial_report_line_pnl_50_c133" />
		<field name="level" eval="1" />
	</record>
   	<record id="account_financial_report_line_pnl_20_c133" model="account.financial.dynamic.report.line">
   		<!-- Lợi nhuận gộp về bán hàng và cung cấp dịch vụ (20 = 10 - 11) -->
   		<field name="name">5. Gross revenues from sales and services rendered (20=10-11)</field>
   		<field name="code">PNL20_C133</field>
   		<field name="report_code">20</field>
   		<field name="formulas">balance = PNL10_C133.balance - PNL11_C133.balance</field>
   		<field name="sequence" eval="1"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_30_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_21_c133" model="account.financial.dynamic.report.line">
   		<!-- Doanh thu hoạt động tài chính -->
   		<field name="name">6. Financial income</field>
   		<field name="code">PNL21_C133</field>
   		<field name="report_code">21</field>
   		<field name="formulas">balance = -sum.balance</field>
   		<field name="domain" eval="[('account_id.user_type_id', '=', ref('to_account_financial_income.account_account_type_financial_income')), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="2"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_30_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_22_c133" model="account.financial.dynamic.report.line">
   		<!-- Chi phí tài chính -->
   		<field name="name">7. Financial expenses</field>
   		<field name="code">PNL22_C133</field>
   		<field name="report_code">22</field>
   		<field name="formulas">balance = sum.balance</field>
   		<field name="domain" eval="[('account_id.code', '=like', '635%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="3"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_30_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_23_c133" model="account.financial.dynamic.report.line">
   		<!-- Trong đó chi phí lãi vay -->
   		<field name="name"> - In which: Interest expenses</field>
   		<field name="code">PNL23_C133</field>
   		<field name="report_code">23</field>
   		<field name="formulas">balance = -sum.balance</field>
   		<field name="domain" eval="[('account_id.code', '=like', '635%'),
    									('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')]),
    									('analytic_tag_ids','in',[ref('l10n_vn_common.account_analytic_tag_interests_dividends_distributed_profits')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="4"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_30_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_24_c133" model="account.financial.dynamic.report.line">
   		<!-- Chi phí quản lý kinh doanh -->
   		<field name="name">8. Business administration expenses</field>
   		<field name="code">PNL24_C133</field>
   		<field name="report_code">24</field>
   		<field name="formulas">balance = sum.balance</field>
   		<field name="domain" eval="[('account_id.code', '=like', '642%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="5"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_30_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_10_c133" model="account.financial.dynamic.report.line">
   		<!-- Doanh thu thuần về bán hàng và cung cấp dịch vụ (10 = 01 - 02) -->
   		<field name="name">3. Net revenues from sales and services rendered (10 = 01 - 02)</field>
   		<field name="code">PNL10_C133</field>
   		<field name="report_code">10</field>
   		<field name="formulas">balance = PNL01_C133.balance - PNL02_C133.balance</field>
   		<field name="sequence" eval="1"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_20_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_11_c133" model="account.financial.dynamic.report.line">
   		<!-- Giá vốn hàng bán (TK 632) -->
   		<field name="name">4. Costs of goods sold</field>
   		<field name="code">PNL11_C133</field>
   		<field name="report_code">11</field>
   		<field name="formulas">balance = sum.balance</field>
   		<field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_direct_costs')), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="2"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_20_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_01_c133" model="account.financial.dynamic.report.line">
   		<!-- Doanh thu bán hàng và cung cấp dịch vụ -->
   		<field name="name">1. Revenues from sales and services rendered</field>
   		<field name="code">PNL01_C133</field>
   		<field name="report_code">01</field>
   		<field name="formulas">balance = -sum.balance</field>
   		<field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_revenue')), ('credit', '>', 0), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="1"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_10_c133"/>
   		<field name="level" eval="1" />
   	</record>
   	<record id="account_financial_report_line_pnl_02_c133" model="account.financial.dynamic.report.line">
   		<!-- Các khoản giảm trừ doanh thu -->
   		<field name="name">2. Revenue deductions</field>
   		<field name="code">PNL02_C133</field>
   		<field name="report_code">02</field>
   		<field name="formulas">balance = sum.balance</field>
   		<field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_revenue')), ('debit', '>', 0), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings')])]" />
   		<field name="groupby">account_id</field>
   		<field name="sequence" eval="2"/>
   		<field name="parent_id" ref="account_financial_report_line_pnl_10_c133"/>
   		<field name="level" eval="1" />
   	</record>
</odoo>
