<odoo>
<!-- TODO: Set noupdate="1" when stable -->
	<!-- Income Statement -->
	<record id="account_financial_report_line_pnl_60" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận sau thuế thu nhập doanh nghiệp (60 = 50 - 51 - 52) -->
		<field name="name">17. Profits after enterprise income tax (60=50 - 51 - 52)</field>
		<field name="code">PNL60</field>
		<field name="report_code">60</field>
		<field name="formulas">balance = PNL50.balance - PNL51.balance - PNL52.balance</field>
		<field name="sequence" eval="2" />
		<field name="financial_report_id" ref="af_dynamic_report_profitandloss_vn" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_50" model="account.financial.dynamic.report.line">
		<!-- Tổng lợi nhuận kế toán trước thuế (50 = 30 + 40) -->
		<field name="name">14. Total net profits before tax (50 = 30 + 40)</field>
		<field name="code">PNL50</field>
		<field name="report_code">50</field>
		<field name="formulas">balance = PNL30.balance + PNL40.balance</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_60" />
		<field name="level" eval="1" />
		<field name="special_date_changer">normal</field>
	</record>
	<record id="account_financial_report_line_pnl_51" model="account.financial.dynamic.report.line">
		<!-- Chi phí thuế thu nhập doanh nghiệp hiện hành -->
		<field name="name">15. Current corporate income tax expenses</field>
		<field name="code">PNL51</field>
		<field name="report_code">51</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.code', '=like', '8211%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_60" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_52" model="account.financial.dynamic.report.line">
		<!-- Chi phí thuế thu nhập doanh nghiệp hoãn lại -->
		<field name="name">16. Deferred corporate income tax expenses</field>
		<field name="code">PNL52</field>
		<field name="report_code">52</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.code', '=like', '8212%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="3" />
		<field name="parent_id" ref="account_financial_report_line_pnl_60" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_40" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận khác (40 = 31 - 32) -->
		<field name="name">13. Other profits (40 = 31 - 32)</field>
		<field name="code">PNL40</field>
		<field name="report_code">40</field>
		<field name="formulas">balance = PNL31.balance - PNL32.balance</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_50" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_31" model="account.financial.dynamic.report.line">
		<!-- Thu nhập khác -->
		<field name="name">11. Other Income</field>
		<field name="code">PNL31</field>
		<field name="report_code">31</field>
		<field name="formulas">balance = -sum.balance</field>
		<field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_other_income')), ('ctp_account_ids.user_type_id', 'not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_40" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_32" model="account.financial.dynamic.report.line">
		<!-- Chi phí khác -->
		<field name="name">12. Other Expenses</field>
		<field name="code">PNL32</field>
		<field name="report_code">32</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.code', '=like', '811%'), ('ctp_account_ids.user_type_id', 'not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_40" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_30" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận thuần từ hoạt động kinh doanh 30 = 20 + (21 - 22) - (24 + 25) -->
		<field name="name">10. Net profits from operating activities 30 = 20 + (21 - 22) - (24 + 25)</field>
		<field name="code">PNL30</field>
		<field name="report_code">30</field>
		<field name="formulas">balance = PNL20.balance + (PNL21.balance - PNL22.balance) - (PNL24.balance + PNL25.balance)</field>
		<field name="sequence" eval="0" />
		<field name="parent_id" ref="account_financial_report_line_pnl_50" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_20" model="account.financial.dynamic.report.line">
		<!-- Lợi nhuận gộp về bán hàng và cung cấp dịch vụ (20 = 10 - 11) -->
		<field name="name">5. Gross revenues from sales and services rendered (20=10-11)</field>
		<field name="code">PNL20</field>
		<field name="report_code">20</field>
		<field name="formulas">balance = PNL10.balance - PNL11.balance</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_30" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_21" model="account.financial.dynamic.report.line">
		<!-- Doanh thu hoạt động tài chính -->
		<field name="name">6. Financial income</field>
		<field name="code">PNL21</field>
		<field name="report_code">21</field>
		<field name="formulas">balance = -sum.balance</field>
		<field name="domain" eval="[('account_id.user_type_id', '=', ref('to_account_financial_income.account_account_type_financial_income')), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_30" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_22" model="account.financial.dynamic.report.line">
		<!-- Chi phí tài chính -->
		<field name="name">7. Financial expenses</field>
		<field name="code">PNL22</field>
		<field name="report_code">22</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.code', '=like', '635%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="3" />
		<field name="parent_id" ref="account_financial_report_line_pnl_30" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_23" model="account.financial.dynamic.report.line">
		<!-- Trong đó chi phí lãi vay -->
		<field name="name"> - In which: Interest expenses</field>
		<field name="code">PNL23</field>
		<field name="report_code">23</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.code', '=like', '635%'),
    									('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')]),
    									('analytic_tag_ids','in',[ref('l10n_vn_common.account_analytic_tag_interests_dividends_distributed_profits')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="4" />
		<field name="parent_id" ref="account_financial_report_line_pnl_30" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_24" model="account.financial.dynamic.report.line">
		<!-- Chi phí bán hàng -->
		<field name="name">8. Selling expenses</field>
		<field name="code">PNL24</field>
		<field name="report_code">24</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.code', '=like', '641%'), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="5" />
		<field name="parent_id" ref="account_financial_report_line_pnl_30" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_25" model="account.financial.dynamic.report.line">
		<!-- Chi phí quản lý doanh nghiệp -->
		<field name="name">9. General administration expenses</field>
		<field name="code">PNL25</field>
		<field name="report_code">25</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.tag_ids', '=', ref('l10n_vn_common.account_account_tag_642')), ('ctp_account_ids.user_type_id','not in',[ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="6" />
		<field name="parent_id" ref="account_financial_report_line_pnl_30" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_10" model="account.financial.dynamic.report.line">
		<!-- Doanh thu thuần về bán hàng và cung cấp dịch vụ (10 = 01 - 02) -->
		<field name="name">3. Net revenues from sales and services rendered (10 = 01 - 02)</field>
		<field name="code">PNL10</field>
		<field name="report_code">10</field>
		<field name="formulas">balance = PNL01.balance - PNL02.balance</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_20" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_11" model="account.financial.dynamic.report.line">
		<!-- Giá vốn hàng bán (TK 632) -->
		<field name="name">4. Costs of goods sold</field>
		<field name="code">PNL11</field>
		<field name="report_code">11</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_direct_costs')), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_20" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_01" model="account.financial.dynamic.report.line">
		<!-- Doanh thu bán hàng và cung cấp dịch vụ -->
		<field name="name">1. Revenues from sales and services rendered</field>
		<field name="code">PNL01</field>
		<field name="report_code">01</field>
		<field name="formulas">balance = -sum.balance</field>
		<field name="domain" eval="[('account_id.user_type_id', '=', ref('account.data_account_type_revenue')),
    									('ctp_account_ids.user_type_id', 'not in', [ref('account.data_unaffected_earnings'), ref('to_account_income_deduct.account_account_type_revenue_deduct')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="1" />
		<field name="parent_id" ref="account_financial_report_line_pnl_10" />
		<field name="level" eval="1" />
	</record>
	<record id="account_financial_report_line_pnl_02" model="account.financial.dynamic.report.line">
		<!-- Các khoản giảm trừ doanh thu -->
		<field name="name">2. Revenue deductions</field>
		<field name="code">PNL02</field>
		<field name="report_code">02</field>
		<field name="formulas">balance = sum.balance</field>
		<field name="domain" eval="[('account_id.user_type_id', '=', ref('to_account_income_deduct.account_account_type_revenue_deduct')), ('ctp_account_ids.user_type_id', 'not in', [ref('account.data_account_type_revenue')])]" />
		<field name="groupby">account_id</field>
		<field name="sequence" eval="2" />
		<field name="parent_id" ref="account_financial_report_line_pnl_10" />
		<field name="level" eval="1" />
	</record>
</odoo>
