<?xml version="1.0" encoding="utf-8"?>

<odoo>
	<data>
		<record id="view_account_journal_form" model="ir.ui.view">
			<field name="name">account.journal.form</field>
			<field name="model">account.journal</field>
			<field name="inherit_id" ref="account.view_account_journal_form" />
			<field name="arch" type="xml">
				<xpath expr="//page[@name='advanced_settings']" position="after">
					<page name="einvoice_integration"
						string="E-Invoice Integration"
						groups="account.group_account_manager,base.group_system"
						attrs="{'invisible': [('type','!=','sale')]}">
						<group string="E-Invoice">
							<group>
								<field name="einvoice_disabled"/>
								<field name="einvoice_enabled" invisible="1"/>
								<field name="einvoice_auto_issue" attrs="{'invisible': [('einvoice_enabled','=','False')]}" />
								<field name="einvoice_item_name"
									attrs="{
										'invisible': [('einvoice_enabled','=',False)],
										'required': [('type', '=', 'sale'), ('einvoice_enabled', '=', True)]
									}" />
								<field name="send_mail_einvoice_disabled" />
								<field name="einvoice_send_mail_option"
									attrs="{
										'invisible': [('send_mail_einvoice_disabled','=',True)],
										'required': [('type', '=', 'sale'), ('send_mail_einvoice_disabled', '=', False)]
									}" />
							</group>
							<group attrs="{'invisible': [('einvoice_enabled','=',False)]}">
								<field name="einvoice_item_name_new_line_replacement" />
								<field name="einvoice_item_name_limit"
									attrs="{'required': [('type', '=', 'sale'), ('einvoice_enabled', '=', True)]}"/>
							</group>
						</group>
						<group attrs="{'invisible': [('einvoice_enabled','=',False)]}">
							<group>
								<field name="account_einvoice_serial_id"/>
								<field name="account_einvoice_template_id" />
								<field name="account_einvoice_type_id" />
								<field name="einvoice_service_id" invisible="1"/>
							</group>
						</group>
					</page>
				</xpath>
				<field name="bank_id" position="after">
					<field name="einvoice_display_bank_account"/>
				 </field>
			</field>
		</record>
	</data>
</odoo>
