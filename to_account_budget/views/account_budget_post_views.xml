<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<!-- Budgets -->
	<record model="ir.ui.view" id="view_budget_post_form">
		<field name="name">account.budget.post.form</field>
		<field name="model">account.budget.post</field>
		<field name="arch" type="xml">
			<form string="Budgetary Position">
				<sheet>
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only" />
                        <h1>
                            <field name="name" placeholder="e.g. Sales" />
                        </h1>
                    </div>
                    <group>
                        <group name="accounts" string="Accounts">
                            <field name="account_ids" widget='many2many_tags'/>
                        </group>
                    </group>
                    <group>
                        <group name="misc" string="Misc">
                            <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                        </group>
                    </group>
				</sheet>
				<div class="oe_chatter">
					<field name="message_follower_ids" groups="base.group_user" />
					<field name="activity_ids"/>
					<field name="message_ids"/>
				</div>
			</form>
		</field>
	</record>

	<record id="view_budget_post_search" model="ir.ui.view">
		<field name="name">account.budget.post.search</field>
		<field name="model">account.budget.post</field>
		<field name="arch" type="xml">
			<search string="Budgetary Position">
				<field name="name" filter_domain="[('name','ilike',self)]"
					string="Budgetary Position" />
				<field name="company_id" groups="base.group_multi_company" />
			</search>
		</field>
	</record>

	<record id="view_budget_post_tree" model="ir.ui.view">
		<field name="name">account.budget.post.tree</field>
		<field name="model">account.budget.post</field>
		<field name="arch" type="xml">
			<tree string="Budgetary Position">
				<field name="name" />
				<field name="company_id" options="{'no_create': True}"
					groups="base.group_multi_company" />
			</tree>
		</field>
	</record>

	<record id="open_budget_post_form" model="ir.actions.act_window">
		<field name="name">Budgetary Positions</field>
		<field name="res_model">account.budget.post</field>
		<field name="view_mode">tree,kanban,form</field>
		<field name="view_id" ref="view_budget_post_tree" />
		<field name="search_view_id" ref="view_budget_post_search" />
		<field name="help" type="html">
			<p class="o_view_nocontent_smiling_face">
				Click to create a new budget.
			</p>
			<p>
				A Budgetary Position is an Odoo document that contains the general accounts for which you want to keep budgets (typically expense or income accounts). They need to be defined so Odoo can know which accounts it needs to go get the budget information.
			</p>
			<p>
				For example, we need to define what accounts relates to a project's expenses, just create a new budgetary position and add items of several expense accounts.
			</p>
		</field>
	</record>

	<menuitem action="open_budget_post_form"
		id="menu_budget_post_form" parent="main_budget_menu"
		groups="group_budget_manager"
		sequence="3" />
</odoo>
