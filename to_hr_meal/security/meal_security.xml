<odoo>

	<data>
		<record model="ir.module.category" id="base.module_category_human_resources_meal">
			<field name="name">HR Meal</field>
			<field name="description">Helps you handle meals for your employees.</field>
			<field name="sequence">16</field>
		</record>

		<record id="hr_meal_group_user" model="res.groups">
			<field name="name">User</field>
			<field name="implied_ids" eval="[(4, ref('base.group_user'))]" />
			<field name="category_id" ref="base.module_category_human_resources_meal" />
			<field name="comment">Users belong to this group can create and confirm
				meal orders
			</field>
		</record>

		<record id="hr_meal_group_manager" model="res.groups">
			<field name="name">Manager</field>
			<field name="implied_ids"
				eval="[(4, ref('hr_meal_group_user'))]" />
			<field name="category_id" ref="base.module_category_human_resources_meal" />
			<field name="users"
				eval="[(4, ref('base.user_root')), (4, ref('base.user_admin'))]" />
			<field name="comment">Users belong to this group can approve/rejects meal
				orders. They have total control on this application
			</field>
		</record>
	</data>

	<data>
		<record id="hr_meal_order_line_rule_user" model="ir.rule">
			<field name="name">Meal Order Line User Rule</field>
			<field name="model_id" ref="model_hr_meal_order_line"></field>
			<field name="groups" eval="[(4, ref('hr_meal_group_user'))]"></field>
			<field name="domain_force">[(1, '=', 1)]</field>
			<field eval="1" name="perm_read" />
			<field eval="1" name="perm_write" />
			<field eval="1" name="perm_unlink" />
			<field eval="1" name="perm_create" />
		</record>

		<record id="hr_meal_order_line_rule_employee" model="ir.rule">
			<field name="name">Meal Order Line Employee Rule</field>
			<field name="model_id" ref="model_hr_meal_order_line"></field>
			<field name="groups" eval="[(4, ref('base.group_user'))]"></field>
			<field name="domain_force">[('employee_id.user_id.id', '=', user.id)]</field>
			<field eval="1" name="perm_read" />
			<field eval="0" name="perm_write" />
			<field eval="0" name="perm_unlink" />
			<field eval="0" name="perm_create" />
		</record>

		<record id="hr_meal_order_rule_company" model="ir.rule">
	        <field name="name">Meal Order Multi-company rule</field>
	        <field name="model_id" ref="model_hr_meal_order"/>
	        <field name="global" eval="True"/>
	        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
	    </record>

	    <record id="hr_meal_order_line_rule_company" model="ir.rule">
	        <field name="name">Meal Order Lines Multi-company rule</field>
	        <field name="model_id" ref="model_hr_meal_order_line"/>
	        <field name="global" eval="True"/>
	        <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
	    </record>
	</data>

</odoo>
