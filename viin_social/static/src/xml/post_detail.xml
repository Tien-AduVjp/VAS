<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
	<div t-name="viin_social.SocialPostDetail">
		<div class="modal_social_post_content">
			<div class="modal_social_page_infor d-flex mb-2">
				<t t-if="widget.page_image">
					<div class="social_page_avatar mr-4">
						<img class="social_avatar rounded-circle" width="50" height="50" t-att-src="widget.page_image" alt="Avartar"/>
					</div>
				</t>
				<div class="page_name flex-grow-1">
					<h4><t t-esc="widget.page_name"/></h4>
				</div>
			</div>
			<t t-if="widget.post_message">
				<div class="modal_social_post_message">
					<t t-raw="widget.post_message"/>
				</div>
			</t>
			<t t-if="widget.attachment_link">
				<br/>
				<a t-attf-href="{{widget.attachment_link}}"  target="_blank">
					<t t-if="widget.attachment_link_title">
						<b t-esc="widget.attachment_link_title"/>
					</t>
					<t t-else="">
						<b t-esc="widget.attachment_link"/>
					</t>
				</a>
			</t>
			<div class="modal_social_post_image d-flex flex-wrap mt-3">
				<t t-set="attachments" t-value="widget.attachments" />
				<t t-if="attachments.length >= 2">
					<t t-foreach="[0,1]" t-as="i">
						<t t-if="attachments[i]['type'] == 'photo'">
							<div class="post_image_attachment" t-attf-data-attachment-position="#{i}">
								<img t-att-src="attachments[i]['src']" alt="Attachment" />
								<t t-if="i == 1 and attachments.length > 2">
									<div class="number_hide_image d-flex align-items-center justify-content-center">+<t t-esc="attachments.length - 2"/></div>
								</t>
							</div>
						</t>
					</t>
				</t>
				<t t-elif="attachments.length > 0">
					<div class="post_image_attachment_full">
						<t t-if="attachments[0]['type'] == 'photo'">
							<img t-att-src="attachments[0]['src']" alt="Attachment" />
						</t>
					</div>
				</t>
			</div>
		</div>

		<div class="modal_social_post_engagement mt-4">
			<div class="d-flex justify-content-around border-top border-bottom py-2">
				<div>
					<i class="fa fa-thumbs-up" title="Likes"/>
   					<b class="post_like_count" t-esc="widget.post_like_count"/>
				</div>
				<div class="ml-4">
					<i class="fa fa-comment" title="Comments"/>
     				<b class="post_comment_count" t-esc="widget.post_comment_count"/>
				</div>
				<div class="kanban_social_post_shares_count ml-4">
					<b class="post_share_count" t-esc="widget.post_share_count"/>
                  	Shares
				</div>
			</div>
		</div>
		<div class="modal_social_comment bg-white px-2 py-4">
			<t t-call="viin_social.social_write_comment_template"/>
			<div class="post_comments">
				<t t-call="viin_social.social_comment_template"/>
			</div>
			<t t-if="widget.first_level_comment_count > 5">
				<a class="button_show_more_comment text-primary pl-5" href="#">
					<i class="fa fa-angle-double-down"/>
					View more comment
				</a>
			</t>
		</div>
	</div>

	<div t-name="viin_social.social_write_comment_template">
		<div class="modal_social_write_comment d-flex mb-4">
			<div class="mr-3">
				<t t-if="widget.page_image">
					<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="widget.page_image" alt="widget.page_name"/>
				</t>
			</div>
			<div class="comment_input social_write_comment_input flex-grow-1 d-flex">
				<textarea class="form-control bg-light flex-grow-1" placeholder="Write a comment..." />
				<t t-call="viin_social.emojis_dropdown">
					<t t-set="emojisDropdownId" t-value="'emojis_dropdown'"></t>
				</t>
			</div>
		</div>
	</div>

	<div t-name="viin_social.social_comment_template">
		<t t-foreach="widget.comments" t-as="comment">
			<div class="social_root_comment social_comment" t-attf-social_comment_id="#{comment['id']}"
				t-attf-style="#{comment['is_hidden'] ? 'opacity: 0.5' : ''}">
				<div class="social_comment_body d-flex">
					<div class="social_commenter_avatar mr-3">
						<t t-if="comment['from']">
							<t t-if="comment['from']['author_image']">
								<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="comment['from']['author_image']" alt="Avatar"/>
							</t>
							<t t-if="comment['from']['author_image_src']">
								<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="comment['from']['author_image_src']" alt="Avatar"/>
							</t>
							<t t-elif="comment['from']['page_image']">
								<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="comment['from']['page_image']" alt="Avatar"/>
							</t>
						</t>
					</div>
					<div class="social_comment_content flex-grow-1">
						<div class="social_comment_message pl-3 pb-2">
							<div class="d-flex">
								<div class="d-flex flex-wrap flex-grow-1 pt-2">
									<t t-if="comment['from']">
										<b><t t-esc="comment['from']['name']"/></b>
										<span class="px-2">&amp;middot;</span>
									</t>
									<p class="m-0"><t t-esc="comment['created_time']"/></p>
									<span class="px-2">&amp;middot;</span>
									<div>
										<i class="fa fa-thumbs-up" title="Likes"/>
	                      				<b class="comment_like_count" t-esc="comment['like_count']"/>
									</div>
								</div>
								<div class="dropdown social_comment_action">
								  <button class="button_comment_action btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
								    <i class="fa fa-ellipsis-v"></i>
								  </button>
								  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
								    <a class="button_delete_comment dropdown-item" href="#">Delete</a>
								    <a class="button_hide_comment dropdown-item" href="#"
								    t-attf-style="#{comment['is_hidden'] ? 'display: none' : ''}">Hide comment</a>
								  </div>
								</div>
							</div>
							<p class="m-0"><t t-raw="comment['message']"/></p>
						</div>
						<t t-if="comment['attachment'] and comment['attachment']['src']">
							<div class="comment_attachment my-2 d-flex flex-wrap">
								<t t-if="comment['attachment']['type'] == 'photo'">
									<img class="social_comment_image" t-att-src="comment['attachment']['src']" alt="Attachment"/>
								</t>
								<t t-elif="comment['attachment']['type'] == 'sticker'">
									<img class="social_comment_sticker" t-att-src="comment['attachment']['src']" alt="Attachment"/>
								</t>
								<t t-else="">
									<video class="social_comment_image" controls="controls" t-att-src="comment['attachment']['src']"/>
								</t>
							</div>
						</t>
						<div class="social_comment_engagement d-flex justify-content-start">
							<a class="button_like_comment text-primary font-weight-bold" href="#"
							t-attf-style="#{comment['is_hidden'] ? 'display: none' : ''}">
								Like
							</a>
							<span class="px-2">&amp;middot;</span>
							<a class="button_reply_comment text-primary font-weight-bold" href="#"
							t-attf-style="#{comment['is_hidden'] ? 'display: none' : ''}">
								Reply
							</a>
							<a class="button_unhide_comment text-primary font-weight-bold" href="#"
							t-attf-style="#{comment['is_hidden'] ? 'display: inline-block' : 'display: none'}">
								Unhide
							</a>

							<t t-if="comment['comment_count'] > 0">
								<a class="button_show_more_reply text-primary" href="#">
								<span class="px-2">&amp;middot;</span>
									<i class="fa fa-angle-double-down"/>
									View more reply
								</a>
							</t>
						</div>
					</div>
				</div>
				<div class="reply_comments">
				</div>
				<t t-call="viin_social.social_write_reply_template"/>
			</div>
		</t>
	</div>

	<div t-name="viin_social.social_reply_template">
		<t t-foreach="widget.replys" t-as="reply">
			<div class="d-flex mt-4 pl-5 social_comment reply_comment" t-attf-social_comment_id="#{reply['id']}"
				t-attf-style="#{reply['is_hidden'] ? 'opacity: 0.5' : ''}">
				<div class="social_reply_avata mr-3">
					<t t-if="reply['from']">
						<t t-if="reply['from']['author_image']">
							<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="reply['from']['author_image']" alt="Avatar"/>
						</t>
						<t t-elif="reply['from']['page_image']">
							<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="reply['from']['page_image']" alt="Avatar"/>
						</t>
					</t>
				</div>
				<div class="social_reply_comment flex-grow-1">
					<div class="social_comment_message pl-3 pb-2">
						<div class="d-flex">
							<div class="d-flex flex-wrap flex-grow-1 pt-2">
								<t t-if="reply['from']">
									<b><t t-esc="reply['from']['name']"/></b>
									<span class="px-2">&amp;middot;</span>
								</t>
								<p class="m-0"><t t-esc="reply['created_time']"/></p>
								<span class="px-2">&amp;middot;</span>
								<div>
									<i class="fa fa-thumbs-up" title="Likes"/>
	                   				<b class="comment_like_count" t-esc="reply['like_count']"/>
								</div>
							</div>
							<div class="dropdown social_comment_action">
							  <button class="button_comment_action btn" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							    <i class="fa fa-ellipsis-v"></i>
							  </button>
							  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							    <a class="button_delete_comment dropdown-item" href="#">Delete</a>
							    <a class="button_hide_comment dropdown-item" href="#"
							    t-attf-style="#{reply['is_hidden'] ? 'display: none' : ''}">Hide comment</a>
							  </div>
							</div>
						</div>
						<p class="m-0"><t t-raw="reply['message']"/></p>
					</div>
					<t t-if="reply['attachment'] and reply['attachment']['src']">
						<div class="comment_attachment my-2 d-flex flex-wrap">
							<t t-if="reply['attachment']['type'] == 'photo'">
								<img class="social_comment_image" t-att-src="repy['attachment']['src']" alt="Attachment"/>
							</t>
							<t t-if="reply['attachment']['type'] == 'sticker'">
								<img class="social_comment_sticker" t-att-src="reply['attachment']['src']" alt="Attachment"/>
							</t>
							<t t-else="">
								<video class="social_comment_image" controls="controls" t-att-src="reply['attachment']['src']"/>
							</t>
						</div>
					</t>
					<div class="social_comment_engagement d-flex justify-content-start">
						<a class="button_like_comment text-primary font-weight-bold" href="#"
							t-attf-style="#{reply['is_hidden'] ? 'display: none' : ''}">
							Like
						</a>
						<span class="px-2">&amp;middot;</span>
						<a class="button_reply_comment text-primary font-weight-bold" href="#"
							t-attf-style="#{reply['is_hidden'] ? 'display: none' : ''}">
							Reply
						</a>
						<a class="button_unhide_comment text-primary font-weight-bold" href="#"
							t-attf-style="#{reply['is_hidden'] ? 'display: inline-block' : 'display: none'}">
							Unhide
						</a>

					</div>
				</div>
			</div>
		</t>
	</div>

	<div t-name="viin_social.social_write_reply_template">
		<div class="d-flex my-4 pl-5">
			<div class="social_reply_avatar mr-3 d-none">
				<t t-if="widget.page_image">
					<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="widget.page_image" alt="widget.page_name"/>
				</t>
				<t t-elif="comment['from'] and comment['from']['page_image']">
					<img class="social_avatar rounded-circle" width="30" height="30" t-att-src="comment['from']['page_image']" alt="Avatar"/>
				</t>
			</div>
			<div class="comment_input social_reply_comment_input flex-grow-1 d-flex d-none">
				<textarea class="form-control bg-light flex-grow-1 d-none" placeholder="Write a reply..." />
				<div class="d-none">
					<t t-call="viin_social.emojis_dropdown">
						<t t-set="emojisDropdownId" t-value="'emojis_dropdown'"></t>
					</t>
				</div>
			</div>
		</div>
	</div>

</templates>
