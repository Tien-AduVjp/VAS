<odoo>
	<record id="sale_order_user_project_manager" model="ir.rule">
		<field name="name">Project User: Read SO related to projects he manages
		</field>
		<field name="model_id" ref="sale.model_sale_order" />
		<field name="groups"
			eval="[(4, ref('project.group_project_user'))]" />
		<field name="domain_force">[
			'|',
			'|',
			('project_id.user_id','in',[user.id]),
			('order_line.project_id.user_id','in',[user.id]),
			('order_line.product_id.project_id.user_id','in',[user.id])
			]
		</field>
	</record>

	<record id="sale_order_line_user_project_manager"
		model="ir.rule">
		<field name="name">Project User: Read SO lines related to projects he
			manages
		</field>
		<field name="model_id" ref="sale.model_sale_order_line" />
		<field name="groups"
			eval="[(4, ref('project.group_project_user'))]" />
		<field name="domain_force">[
			'|',
			'|',
			('order_id.project_id.user_id','=',user.id),
			('project_id.user_id','=',user.id),
			('product_id.project_id.user_id','=',user.id)
			]
		</field>
	</record>
</odoo>
