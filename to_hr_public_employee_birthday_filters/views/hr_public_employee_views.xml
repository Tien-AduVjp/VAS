<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="hr_employee_public_view_form" model="ir.ui.view">
            <field name="name">hr.employee.public.form</field>
            <field name="model">hr.employee.public</field>
            <field name="inherit_id" ref="hr.hr_employee_public_view_form"/>
            <field name="arch" type="xml">
            	<xpath expr="//field[@name='mobile_phone']" position="before">
            		<field name="birthday" />
            	</xpath>
            </field>
        </record>
        
		<record id="hr_employee_public_view_search" model="ir.ui.view">
			<field name="name">hr.employee.public.search</field>
			<field name="model">hr.employee.public</field>
			<field name="inherit_id" ref="hr.hr_employee_public_view_search" />
			<field name="arch" type="xml">
				<xpath expr="//field[@name='company_id']" position="after">
					<field name="dyob" />
					<field name="mob" />
					<field name="yob" />
				</xpath>
				<xpath expr="//filter[@name='archived']" position="after">
					<separator />
					<filter string="Birthdays this week of this month"
						name="ftr_birth_this_week"
						domain="[('dyob', '&gt;=', context_today().day - context_today().weekday()),
								('dyob', '&lt;=', context_today().day - context_today().weekday() + 6),
								('mob', '=', context_today().month)]"/>
					<filter string="Birthdays next week of this month"
						name="ftr_birth_next_week"
						domain="[('dyob', '&gt;=', context_today().day - context_today().weekday() + 7),
								('dyob', '&lt;=', context_today().day - context_today().weekday() + 13),
								('mob', '=', context_today().month)]" />
					<filter string="Birthdays last week of this month"
						name="ftr_birth_last_week"
						domain="[('dyob', '&gt;=', context_today().day - context_today().weekday() - 7),
								('dyob', '&lt;=', context_today().day - context_today().weekday() - 1),
								('mob', '=', context_today().month)]" />
					<filter string="Birthdays this month"
						name="ftr_birth_this_mo"
						domain="[('mob', '=', context_today().month)]" />
					<filter string="Birthdays next month"
						name="ftr_birth_next_mo"
						domain="[('mob', '=', (context_today()+relativedelta(months=1)).month)]" />
					<filter string="Birthdays last month"
						name="ftr_birth_last_mo"
						domain="[('mob', '=', (context_today()-relativedelta(months=1)).month)]" />
				</xpath>
				<xpath expr="//group" position="inside">
					<filter name="dyob" string="Day of Birth" domain="[]" context="{'group_by' : 'dyob'}"/>
		        	<filter name="mob" string="Month of Birth" domain="[]" context="{'group_by' : 'mob'}"/>
		        	<filter name="yob" string="Year of Birth" domain="[]" context="{'group_by' : 'yob'}"/>
				</xpath>
			</field>
		</record>
	</data>
</odoo>