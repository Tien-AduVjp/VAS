<?xml version="1.0" encoding="utf-8" ?>

<odoo>
	<record id="regenerate_account_analytic_lines_view" model="ir.ui.view">
		<field name="name">account.analytic.lines.regenerate.form</field>
		<field name="model">account.analytic.lines.regenerate</field>
		<field name="arch" type="xml">
			<form string="Regenerate Analytic Lines">
				<group>
					<group>
						<field name="account_move_line_ids" invisible="1"/>
						<field name="analytic_account_id" />
					</group>
					<group>
						<field name="account_move_lines_count" invisible="1"/>
						<field name="analytic_tag_ids" widget="many2many_tags" 
							attrs="{'invisible': [('account_move_lines_count', '>', 1)]}" groups="analytic.group_analytic_tags"/>
						<field name="forced_regenerate"/>
					</group>
				</group>
				<footer>
					<button name="regeneate_analytic_lines" string="Confirm" type="object" class="btn-primary" />
					<button string="Cancel" class="btn-default" special="cancel" />
				</footer>
			</form>
		</field>
	</record>
	
	<record id="act_regenerate_analytic_lines" model="ir.actions.act_window">
		<field name="name">Regenerate Analytic Lines</field>
		<field name="res_model">account.analytic.lines.regenerate</field>
		<field name="view_mode">form</field>
		<field name="binding_model_id" ref="account.model_account_move_line" />
		<field name="target">new</field>
		<field name="groups_id" eval="[(6, 0, [ref('analytic.group_analytic_accounting')])]"/>
	</record>
</odoo>
