<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<record id="view_account_move_filter" model="ir.ui.view">
		<field name="name">account.move.search</field>
		<field name="model">account.move</field>
		<field name="inherit_id" ref="account.view_account_move_filter" />
		<field name="arch" type="xml">
			<xpath expr="//filter[@name='date']" position="after">
				<separator />
				<filter string="Have Analytic Lines"
					name="ftr_have_analytic_lines"
					domain="[('line_ids.analytic_line_ids', '!=', False)]"/>
				<filter string="Don't Have any Analytic Lines"
					name="ftr_have_not_analytic_lines"
					domain="[('line_ids.analytic_line_ids', '=', False)]" />
			</xpath>
		</field>
	</record>
	
	<record id="view_move_form" model="ir.ui.view">
		<field name="name">account.move.form</field>
		<field name="model">account.move</field>
		<field name="inherit_id" ref="account.view_move_form" />
		<field name="arch" type="xml">
			<xpath expr="//field[@name='line_ids']/tree/field[@name='account_internal_type']" position="after">
				<field name="parent_state" invisible="1"/>
				<button name="action_regenerate_analytic_lines" string="Generate Analytic Lines" type="object" icon="fa-edit"
					context="{'default_forced_regenerate': True}"
                   	groups="analytic.group_analytic_accounting" attrs="{'invisible': [('parent_state', '!=', 'posted')]}"/>	
			</xpath>
		</field>
	</record>
</odoo>
