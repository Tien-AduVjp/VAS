<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
	<data>
		<template id="report_invoice_line_summary_document" inherit_id="account.report_invoice_document">
			<xpath expr="//tbody[hasclass('invoice_tbody')] " position="attributes">
                  <attribute name="t-if">o.invoice_display_mode == 'invoice_lines'</attribute>
			</xpath>
			<xpath expr="//tbody[hasclass('invoice_tbody')] " position="after">
				<t t-else="">
					<tbody class="invoice_tbody">
						<tr t-foreach="o.invoice_line_summary_ids" t-as="ivlg">
							<td>
								<t t-if="(o.invoice_line_summary_group_mode == 'product_unit_price_tax_discount')
								or (o.invoice_line_summary_group_mode == 'product_tax_discount')">
									<span t-field="ivlg.product_id" />
								</t>
								<t t-else="">
									<t t-if="ivlg.product_id">
										<span t-field="ivlg.product_id.product_tmpl_id" />
									</t>
								</t>
							</td>
							<td class="text-right">
								<span t-field="ivlg.quantity" />
								<span t-field="ivlg.uom_id" groups="product.group_uom" />
							</td>
							<td class="text-right">
								<span t-field="ivlg.price_unit" />
							</td>
							<td t-if="display_discount" class="text-right">
								<span t-field="ivlg.discount" />
							</td>
							<td class="text-right">
								<span
									t-esc="', '.join(map(lambda x: (x.description or x.name), ivlg.invoice_line_tax_ids))" />
							</td>
							<td class="text-right">
								<span t-field="ivlg.price_subtotal"
									t-options='{"widget": "monetary", "display_currency": o.currency_id}' />
							</td>
						</tr>
					</tbody>
				</t>
			</xpath>
			<xpath expr="//th[@name='th_description']/span" position="replace">
				<t t-if="o.invoice_display_mode == 'invoice_lines'">
					<span>Description</span>
				</t>
				<t t-else="">
					<span>Product Template</span>
				</t>
			</xpath>
		</template>

	</data>
</odoo>
